#!/usr/bin/env node

var fs = require('fs');
var path = require("path");

var appRoot = path.join(__dirname, "..");
var versionPath = path.join(appRoot, "/versions/");

fs.readdir( versionPath, function(err, dirs) {
  if(err) {
    throw err;
  }
  var regex = new RegExp("^(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)(?:-((?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\\.(?:0|[1-9]\\d*|\\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\\+([0-9a-zA-Z-]+(?:\\.[0-9a-zA-Z-]+)*))?$");
  dirs.forEach( function(dir) {
    if( regex.test(dir) )
      console.log(dir);
  });
});